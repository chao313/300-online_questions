{"version":3,"sources":["webpack:///src/views/login/ForgetPassword.vue","webpack:///./src/views/login/ForgetPassword.vue?4061","webpack:///./src/views/login/ForgetPassword.vue"],"names":["ForgetPassword","data","_this","this","addInfo","newPassword","newPswConfirm","oldPassword","rules","required","trigger","message","validator","rule","value","callback","Error","test","watch","methods","submitForm","formName","self","$refs","validate","valid","params","FormData","append","$http","post","api","updatePassword","headers","Content-Type","response","result","logOut","$message","type","duration","get","userLogoff","$store","dispatch","onClose","location","reload","resetForm","resetFields","login_ForgetPassword","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","size","inline-message","label","prop","$$v","$set","expression","_v","staticStyle","color","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/78.474d98415e0703faef14.js","sourcesContent":["<template>\n\t<div class=\"app-form ml60 mt40\">\n\t\t<el-form :model=\"addInfo\" :rules=\"rules\" ref=\"addInfo\" label-width=\"120px\" size=\"mini\" :inline-message=\"true\">\n\t\t\t<el-form-item label=\"旧密码：\" prop=\"oldPassword\">\n\t\t\t\t<el-input v-model=\"addInfo.oldPassword\" type=\"password\"></el-input>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"新密码\" prop=\"newPassword\">\n\t\t\t\t<el-input v-model=\"addInfo.newPassword\"  type=\"password\"></el-input><span class=\"ml10\" style=\"color: #f45151;\">大小写字母和数字6-15位</span>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item label=\"确认新密码：\" prop=\"newPswConfirm\">\n\t\t\t\t<el-input v-model=\"addInfo.newPswConfirm\" type=\"password\"></el-input>\n\t\t\t</el-form-item>\n\t\t</el-form>\n\t\t<div class=\"mt40 ml40\">\n\t\t\t<el-button type=\"primary\" @click=\"submitForm('addInfo')\">确定</el-button>\n\t\t\t<el-button @click=\"resetForm('addInfo')\">重置</el-button>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\texport default {\n\t\tdata() {\n\t\t\tvar validateCommitPass = (rule, value, callback) => {\n\t\t\t\tif(value === '') {\n\t\t\t\t\tcallback(new Error('请再次输入密码'));\n\t\t\t\t} else if(value !== this.addInfo.newPassword) {\n\t\t\t\t\tcallback(new Error('两次输入密码不一致'));\n\t\t\t\t} else {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar validatePassword = (rule, value, callback) => {\n\t\t\t\tconst reg = /^[a-zA-Z0-9]{6,15}$/;\n\t\t\t\tif(value === '') {\n\t\t\t\t\tcallback(new Error('请输入新密码'));\n\t\t\t\t} else if(reg.test(this.addInfo.newPassword)) {\n\t\t\t\t\tcallback();\n\n\t\t\t\t} else {\n\t\t\t\t\tcallback(new Error('密码格式错误'));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\taddInfo: {\n\t\t\t\t\tnewPassword: '',\n\t\t\t\t\tnewPswConfirm: '',\n\t\t\t\t\toldPassword:''\n\t\t\t\t},\n\t\t\t\trules: {\n\t\t\t\t\toldPassword: [{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttrigger: 'blur',\n\t\t\t\t\t\tmessage: '请输入旧密码',\n\t\t\t\t\t}],\n\t\t\t\t\tnewPassword: [{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\ttrigger: 'blur',\n\t\t\t\t\t\tvalidator: validatePassword,\n\t\t\t\t\t}],\n\t\t\t\t\tnewPswConfirm: [{\n\t\t\t\t\t\tvalidator: validateCommitPass,\n\t\t\t\t\t\ttrigger: 'blur',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t}],\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\twatch: {\n\n\t\t},\n\t\tmethods: {\n\t\t\tsubmitForm(formName) {\n\t\t\t\tlet self = this;\n\t\t\t\tthis.$refs[formName].validate((valid) => {\n\t\t\t\t\tif(valid) {\n\t\t\t\t\t\tvar params = new FormData();\n\t\t\t\t\t\tparams.append('newPassword', self.addInfo.newPassword);\n\t\t\t\t\t\tparams.append('password', self.addInfo.oldPassword);\n\t\t\t\t\t\tself.$http.post(self.api.updatePassword, params, {\n\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}, function(response) {\n\t\t\t\t\t\t\tif(response.result) {\n\t\t\t\t\t\t\t\tself.logOut()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.$message({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\tmessage: '修改失败',\n\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function(response) {\n\t\t\t\t\t\t\t//失败回调\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tlogOut() {\n\t\t\t\tlet self = this;\n\t\t\t\tself.$http.get(self.api.userLogoff, {\n\t\t\t\t\tparams: {}\n\t\t\t\t}, function(response) {\n\t\t\t\t\tif(response.result) {\n\t\t\t\t\t\tself.$store.dispatch('LogOut');\n\t\t\t\t\t\tself.$message({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\tmessage: '注销成功，页面即将跳转至登录页',\n\t\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\t\tonClose: function() {\n\t\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.$message({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\tmessage: '注销失败',\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}, function(response) {})\n\t\t\t},\n\t\t\t resetForm(formName) {\n\t\t        this.$refs[formName].resetFields();\n\t\t      }\n\t\t}\n\t}\n</script>\n<link rel=\"stylesheet\" href=\"css/ElementIndex.css\">\n<script src=\"vueJs/vue.js\"></script>\n<script src=\"js/ElementIndex.js\"></script>\n<style rel=\"stylesheet/scss\" scoped lang=\"scss\">\n.psw-Tip{\n\tmargin-top: 20px;\n\tp{\n\t\tline-height: 24px;\n\t\tcolor: #888;\n\t\tmargin-left: 10px;\n\t}\n}\n .el-form-item .el-input {\n    position: relative;\n    font-size: 12px;\n    display: inline-block;\n    width: 320px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/ForgetPassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-form ml60 mt40\"},[_c('el-form',{ref:\"addInfo\",attrs:{\"model\":_vm.addInfo,\"rules\":_vm.rules,\"label-width\":\"120px\",\"size\":\"mini\",\"inline-message\":true}},[_c('el-form-item',{attrs:{\"label\":\"旧密码：\",\"prop\":\"oldPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addInfo.oldPassword),callback:function ($$v) {_vm.$set(_vm.addInfo, \"oldPassword\", $$v)},expression:\"addInfo.oldPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addInfo.newPassword),callback:function ($$v) {_vm.$set(_vm.addInfo, \"newPassword\", $$v)},expression:\"addInfo.newPassword\"}}),_c('span',{staticClass:\"ml10\",staticStyle:{\"color\":\"#f45151\"}},[_vm._v(\"大小写字母和数字6-15位\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认新密码：\",\"prop\":\"newPswConfirm\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addInfo.newPswConfirm),callback:function ($$v) {_vm.$set(_vm.addInfo, \"newPswConfirm\", $$v)},expression:\"addInfo.newPswConfirm\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mt40 ml40\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('addInfo')}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('addInfo')}}},[_vm._v(\"重置\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bb76429\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/ForgetPassword.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ForgetPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ForgetPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bb76429\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ForgetPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/ForgetPassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}