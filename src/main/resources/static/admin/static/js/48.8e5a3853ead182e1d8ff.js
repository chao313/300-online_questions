webpackJsonp([48],{UcWB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("0xDb");var s={data:function(){return{policyIdList:[],policyId:"",statuses:[{value:1,title:"生效"},{value:2,title:"失效"},{value:null,title:"全部"}],status:"",dataList:[],total:-1,currentPage:1,pageSize:10,start:"",end:"",plateNo:"",exitStation:"",exitStationList:[],resultDetail:{},viewDialogVisible:!1,startTime:"",endTime:"",timeRange:[],registId:"",jsonData:"",search:{id:"",userName:"",questionId:"",questionTitle:"",content:"",deleteFlag:"",status:"",blackFlag:"",time:"",answerId:"",pageNum:1,pageSize:10},pageInfo:{endRow:10,firstPage:1,hasNextPage:!0,hasPreviousPage:!1,isFirstPage:!0,isLastPage:!1,lastPage:8,list:[],navigatePages:8,navigatepageNums:[1,2,3,4,5,6,7,8],nextPage:2,orderBy:"",pageNum:1,pageSize:10,pages:1810,prePage:0,size:10,startRow:1,total:0}}},computed:{base64Decode:function(){return function(e){return decodeURIComponent(atob(e))}},path:function(){return function(e){return null==e?"local/avatar-mid-img.png":BASE_URL+"/"+e}}},mounted:function(){},created:function(){this.queryBase()},watch:{},methods:{queryBase:function(){var e=this,t=new FormData;null!=e.search.id&&""!=e.search.id&&t.append("id",e.search.id),null!=e.search.userName&&""!=e.search.userName&&t.append("userName",e.search.userName),null!=e.search.questionId&&""!=e.search.questionId&&t.append("questionId",e.search.questionId),null!=e.search.questionTitle&&""!=e.search.questionTitle&&t.append("questionTitle",e.search.questionTitle),null!=e.search.content&&""!=e.search.content&&t.append("content",e.search.content),null!=e.search.deleteFlag&&""!=e.search.deleteFlag&&t.append("deleteFlag",e.search.deleteFlag),null!=e.search.status&&""!=e.search.status&&t.append("status",e.search.status),null!=e.search.blackFlag&&""!=e.search.blackFlag&&t.append("blackFlag",e.search.blackFlag),null!=e.search.time&&""!=e.search.time&&t.append("time",e.search.time),null!=e.search.answerId&&""!=e.search.answerId&&t.append("answerId",e.search.answerId);var a={};t.forEach(function(e,t){return a[t]=e}),e.$http.post(e.api.queryBasePageHelperTAnswer+"?pageNum="+e.search.pageNum+"&pageSize="+e.search.pageSize,a,{},function(t){e.pageInfo=t.content,e.dataList=t.content.list},function(t){e.$message({type:"warning",message:"请求异常",duration:1e3})})},deleteByPrimaryKey:function(e){var t=this;this.$confirm("是否删除该条数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){t.$http.get(t.api.deleteTAnswerByPrimaryKey,{params:{id:e}},function(e){0==e.code?1==e.content?(t.$message({type:"success",message:"删除成功",duration:2e3}),t.queryBase()):t.$message({type:"warning",message:"删除失败",duration:2e3}):t.$message({type:"error",message:e.msg,duration:2e3})},function(e){console.log(e),t.$message({type:"error",message:"请求异常",duration:2e3})})})},routerToView:function(e){var t="";t=t+"id="+e,window.open("#/TAnswerModuleView?"+t,"_self")},routerToEdit:function(e){var t="";t=t+"id="+e,window.open("#/TAnswerModuleEdit?"+t,"_self")},routerToAdd:function(){window.open("#/TAnswerModuleAdd","_self")},searchEvent:function(){this.queryBase()},searchRest:function(){this.search.id="",this.search.userName="",this.search.questionId="",this.search.questionTitle="",this.search.content="",this.search.deleteFlag="",this.search.status="",this.search.blackFlag="",this.search.time="",this.search.answerId="",this.queryBase()},handleCurrentChange:function(e){this.search.pageNum=this.pageInfo.pageNum,this.search.pageSize=this.pageInfo.pageSize,this.searchEvent()},submitEditForm:function(e,t){var a=this,s=new FormData,n=new FormData;s.append("blackFlag",t),n.append("id",e);var r={};s.forEach(function(e,t){return r[t]=e});var i={};n.forEach(function(e,t){return i[t]=e}),a.$http.post(a.api.updateTAnswerByPrimaryKey,{source:r,target:i},{headers:{"Content-Type":"application/json"}},function(e){0==e.code?1==e.content?(a.$message({type:"success",message:"修改成功"}),a.queryBase()):a.$message({type:"warning",message:"修改失败",duration:2e3}):a.$message({type:"error",message:e.msg,duration:2e3})},function(e){})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"mt20"},[a("el-form",{attrs:{inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.search.userName,callback:function(t){e.$set(e.search,"userName",t)},expression:"search.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否黑名单"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.search.blackFlag,callback:function(t){e.$set(e.search,"blackFlag",t)},expression:"search.blackFlag"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"el-button-search",attrs:{type:"primary"},on:{click:function(t){return e.searchEvent()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"el-button-search",attrs:{type:"primary"},on:{click:function(t){return e.searchRest()}}},[e._v("重置\n                ")])],1)],1)],1),e._v(" "),a("div",{staticClass:"app-list"},[a("div",{staticClass:"app-tab"},[a("table",[e._m(0),e._v(" "),a("tbody",e._l(e.dataList,function(t,s){return a("tr",[a("td",[e._v(e._s(s+1))]),e._v(" "),a("td",[e._v(e._s(t.userName))]),e._v(" "),a("td",[e._v(e._s(t.questionTitle))]),e._v(" "),t.content?[[e._v("\n                            "+e._s(e.base64Decode(t.content).substr(0,30))+"\n                        ")],e._v(" "),e.base64Decode(t.content).length>30?[e._v("\n                            ...\n                        ")]:e._e()]:e._e(),e._v(" "),0==t.blackFlag?[a("td",[e._v("未屏蔽")])]:[a("td",[e._v("已屏蔽")])],e._v(" "),a("td",[e._v(e._s(t.time))]),e._v(" "),a("td",[a("span",{on:{click:function(a){return e.routerToView(t.id)}}},[e._v("查看")]),e._v(" "),0==t.blackFlag?a("span",{on:{click:function(a){return e.submitEditForm(t.id,1)}}},[e._v("屏蔽")]):a("span",{on:{click:function(a){return e.submitEditForm(t.id,0)}}},[e._v("取消屏蔽")])])],2)}),0)]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.total,expression:"total == 0"}],staticClass:"no-data-tip"},[e._v("没有找到相关数据！")]),e._v(" "),a("div",[a("pre",[e._v(e._s(e.jsonData))])])]),e._v(" "),a("div",{staticClass:"mt10"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.pageInfo.list.length>0,expression:"pageInfo.list.length > 0"}],attrs:{background:"","current-page":e.pageInfo.pageNum,"page-size":e.pageInfo.pageSize,layout:"total, prev, pager, next, jumper",total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.pageInfo,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"pageNum",t)}}})],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("序号")]),e._v(" "),a("th",[e._v("回复人")]),e._v(" "),a("th",[e._v("问题")]),e._v(" "),a("th",[e._v("内容")]),e._v(" "),a("th",[e._v("是否黑名单")]),e._v(" "),a("th",[e._v("创建时间")]),e._v(" "),a("th",[e._v("操作")])])])}]};var r=a("VU/8")(s,n,!1,function(e){a("uEX4")},null,null);t.default=r.exports},uEX4:function(e,t){}});
//# sourceMappingURL=48.8e5a3853ead182e1d8ff.js.map