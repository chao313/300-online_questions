webpackJsonp([70],{"7wCM":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});t("0xDb");var s={data:function(){return{policyIdList:[],policyId:"",statuses:[{value:1,title:"生效"},{value:2,title:"失效"},{value:null,title:"全部"}],status:"",dataList:[],total:-1,currentPage:1,pageSize:10,start:"",end:"",plateNo:"",exitStation:"",exitStationList:[],resultDetail:{},viewDialogVisible:!1,startTime:"",endTime:"",timeRange:[],registId:"",jsonData:"",search:{id:"",userName:"",reason:"",name:"",createTime:"",updateTime:"",deleteFlag:"",approveStatus:"",blackListUser:"",logo:"",pvCount:"",status:"",email:"",phone:"",pageNum:1,pageSize:10},pageInfo:{endRow:10,firstPage:1,hasNextPage:!0,hasPreviousPage:!1,isFirstPage:!0,isLastPage:!1,lastPage:8,list:[],navigatePages:8,navigatepageNums:[1,2,3,4,5,6,7,8],nextPage:2,orderBy:"",pageNum:1,pageSize:10,pages:1810,prePage:0,size:10,startRow:1,total:0}}},mounted:function(){},created:function(){this.queryBase()},watch:{},methods:{queryBase:function(){var e=this,a=new FormData;null!=e.search.id&&""!=e.search.id&&a.append("id",e.search.id),null!=e.search.userName&&""!=e.search.userName&&a.append("userName",e.search.userName),null!=e.search.reason&&""!=e.search.reason&&a.append("reason",e.search.reason),null!=e.search.name&&""!=e.search.name&&a.append("name",e.search.name),null!=e.search.createTime&&""!=e.search.createTime&&a.append("createTime",e.search.createTime),null!=e.search.updateTime&&""!=e.search.updateTime&&a.append("updateTime",e.search.updateTime),null!=e.search.deleteFlag&&""!=e.search.deleteFlag&&a.append("deleteFlag",e.search.deleteFlag),null!=e.search.approveStatus&&""!=e.search.approveStatus&&a.append("approveStatus",e.search.approveStatus),null!=e.search.blackListUser&&""!=e.search.blackListUser&&a.append("blackListUser",e.search.blackListUser),null!=e.search.logo&&""!=e.search.logo&&a.append("logo",e.search.logo),null!=e.search.pvCount&&""!=e.search.pvCount&&a.append("pvCount",e.search.pvCount),null!=e.search.status&&""!=e.search.status&&a.append("status",e.search.status),null!=e.search.email&&""!=e.search.email&&a.append("email",e.search.email),null!=e.search.phone&&""!=e.search.phone&&a.append("phone",e.search.phone);var t={};a.forEach(function(e,a){return t[a]=e}),e.$http.post(e.api.queryBasePageHelperVReportUserUser+"?pageNum="+e.search.pageNum+"&pageSize="+e.search.pageSize,t,{},function(a){e.pageInfo=a.content,e.dataList=a.content.list},function(a){e.$message({type:"warning",message:"请求异常",duration:1e3})})},deleteByPrimaryKey:function(){var e=this;this.$confirm("是否删除该条数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(function(){e.$http.get(e.api.deleteVReportUserUserByPrimaryKey,{params:{}},function(a){0==a.code?1==a.content?(e.$message({type:"success",message:"删除成功",duration:2e3}),e.queryBase()):e.$message({type:"warning",message:"删除失败",duration:2e3}):e.$message({type:"error",message:a.msg,duration:2e3})},function(a){console.log(a),e.$message({type:"error",message:"请求异常",duration:2e3})})})},routerToView:function(e){var a="&name="+e;window.open("#/TUserModuleView?"+a,"_self")},routerToEdit:function(e){var a="&name="+e;window.open("#/TUserModuleEdit?"+a,"_self")},routerToAdd:function(){window.open("#/VReportUserUserModuleAdd","_self")},searchEvent:function(){this.queryBase()},searchRest:function(){this.search.id="",this.search.userName="",this.search.reason="",this.search.name="",this.search.createTime="",this.search.updateTime="",this.search.deleteFlag="",this.search.approveStatus="",this.search.blackListUser="",this.search.logo="",this.search.pvCount="",this.search.status="",this.search.email="",this.search.phone="",this.queryBase()},handleCurrentChange:function(e){this.search.pageNum=this.pageInfo.pageNum,this.search.pageSize=this.pageInfo.pageSize,this.searchEvent()},submitEditForm:function(e,a,t){var s=this,r=new FormData,n=new FormData;r.append("approveStatus",a),r.append("blackListUser",t),n.append("name",e);var i={};r.forEach(function(e,a){return i[a]=e});var o={};n.forEach(function(e,a){return o[a]=e}),s.$http.post(s.api.updateTUserByPrimaryKey,{source:i,target:o},{headers:{"Content-Type":"application/json"}},function(e){0==e.code?1==e.content?(s.$message({type:"success",message:"修改成功",duration:500}),s.queryBase()):s.$message({type:"warning",message:"修改失败",duration:2e3}):s.$message({type:"error",message:e.msg,duration:2e3})},function(e){})}}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"mt20"},[t("el-form",{attrs:{inline:!0,size:"mini"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.search.userName,callback:function(a){e.$set(e.search,"userName",a)},expression:"search.userName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.search.email,callback:function(a){e.$set(e.search,"email",a)},expression:"search.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.search.phone,callback:function(a){e.$set(e.search,"phone",a)},expression:"search.phone"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"el-button-search",attrs:{type:"primary"},on:{click:function(a){return e.searchEvent()}}},[e._v("查询")])],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"el-button-search",attrs:{type:"primary"},on:{click:function(a){return e.searchRest()}}},[e._v("重置\n                ")])],1)],1)],1),e._v(" "),t("div",{staticClass:"app-list"},[t("div",{staticClass:"app-tab"},[t("table",[e._m(0),e._v(" "),t("tbody",e._l(e.dataList,function(a,s){return t("tr",[t("td",[e._v(e._s(s+1))]),e._v(" "),t("td",[e._v(e._s(a.userName))]),e._v(" "),t("td",[e._v(e._s(a.reason))]),e._v(" "),t("td",[e._v(e._s(a.email))]),e._v(" "),t("td",[e._v(e._s(a.phone))]),e._v(" "),0==a.blackListUser?[t("td",[e._v("不是黑名单")])]:[t("td",[e._v("是黑名单")])],e._v(" "),t("td",[0==a.blackListUser?t("span",{on:{click:function(t){return e.submitEditForm(a.userName,null,1)}}},[e._v("加入黑名单")]):t("span",{on:{click:function(t){return e.submitEditForm(a.userName,null,0)}}},[e._v("移出黑名单")])])],2)}),0)]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.total,expression:"total == 0"}],staticClass:"no-data-tip"},[e._v("没有找到相关数据！")]),e._v(" "),t("div",[t("pre",[e._v(e._s(e.jsonData))])])]),e._v(" "),t("div",{staticClass:"mt10"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.pageInfo.list.length>0,expression:"pageInfo.list.length > 0"}],attrs:{background:"","current-page":e.pageInfo.pageNum,"page-size":e.pageInfo.pageSize,layout:"total, prev, pager, next, jumper",total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(a){return e.$set(e.pageInfo,"pageNum",a)},"update:current-page":function(a){return e.$set(e.pageInfo,"pageNum",a)}}})],1)])])},staticRenderFns:[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("thead",[t("tr",[t("th",[e._v("序号")]),e._v(" "),t("th",[e._v("举报用户名称")]),e._v(" "),t("th",[e._v("举报理由")]),e._v(" "),t("th",[e._v("邮箱")]),e._v(" "),t("th",[e._v("手机号码")]),e._v(" "),t("th",[e._v("是否黑名单")]),e._v(" "),t("th",[e._v("操作")])])])}]};var n=t("VU/8")(s,r,!1,function(e){t("vKle")},null,null);a.default=n.exports},vKle:function(e,a){}});
//# sourceMappingURL=70.73ae017c67a784e9d2b2.js.map